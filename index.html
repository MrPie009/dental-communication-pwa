<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dental Patient Communication</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Dental Comm">
    <link rel="apple-touch-icon" href="/icons/icon-152x152.png">
    <meta name="theme-color" content="#21808d">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Dentist Login Panel -->
    <div id="dentistLoginPanel" class="card" style="max-width:340px; margin:2rem auto; display:none;">
      <h2>Dentist Login</h2>
      <input id="dentistUsernameInput" type="text" placeholder="Practice code or email" style="width:100%; margin-bottom:8px; padding:8px;"/>
      <button id="dentistLoginBtn" class="btn btn--primary" style="width:100%;">Login</button>
    </div>
    <!-- Main App Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1>Patient Communication</h1>
            <div class="header-controls">
                <button id="adminToggle" class="btn btn--secondary">Admin Mode</button>
                <button id="instructionsToggle" class="btn btn--outline btn--sm">Instructions</button>
                <button id="volumeTest" class="btn btn--outline btn--sm">Test Volume</button>
                <button id="dentistLogoutBtn" class="btn btn--outline btn--sm" style="display:none;">Logout</button>
                <div id="pwa-status" class="pwa-status">
                    <span id="connection-status" class="status-online">‚óè</span>
                </div>
            </div>
        </header>
        <!-- Instructions Panel -->
        <div id="instructionsPanel" class="instructions-panel hidden">
            <div class="card">
                <div class="card__body">
                    <h3>How to Use</h3>
                    <ul class="instructions-list">
                        <li>Use arrow keys to navigate between options</li>
                        <li>Press Enter or Space to select an option</li>
                        <li>Selected option will be spoken aloud</li>
                        <li>Dentist can customize responses in Admin Mode</li>
                        <li><strong>PWA:</strong> Add to home screen for offline access</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- Response Grid -->
        <main class="response-container">
            <div id="responseGrid" class="response-grid">
                <!-- Response buttons will be generated dynamically -->
            </div>
        </main>
        <!-- Status Display -->
        <div id="statusDisplay" class="status-display">
            <p id="statusMessage">Use arrow keys to navigate, Enter to select</p>
        </div>
        <!-- Admin Panel -->
        <div id="adminPanel" class="admin-panel hidden">
            <div class="card">
                <div class="card__header">
                    <h3>Admin Mode - Customize Responses</h3>
                    <button id="adminClose" class="btn btn--outline btn--sm">Exit Admin</button>
                </div>
                <div class="card__body">
                    <div class="admin-controls">
                        <div class="form-group">
                            <label for="newResponseText">Add New Response:</label>
                            <div class="input-group">
                                <input type="text" id="newResponseText" placeholder="Enter response text" maxlength="50">
                                <button id="addResponse" class="btn btn--primary">Add</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Current Responses:</label>
                            <div id="responseList" class="response-list">
                                <!-- Response items will be generated dynamically -->
                            </div>
                        </div>
                        <div class="form-group">
                          <label>Practice Logo:</label>
                          <input id="brandLogoInput" type="file" accept="image/*" style="margin-top:4px;" />
                          <div id="currentBrandLogo" style="margin:8px 0;"></div>
                        </div>
                        <div class="form-group">
                          <label>Theme Color:</label>
                          <input id="brandColorInput" type="color" style="margin-left:8px;" value="#21808d"/>
                        </div>
                        <div class="form-group">
                            <label for="speechRate">Speech Settings:</label>
                            <div class="speech-controls">
                                <div class="slider-group">
                                    <label for="speechRate">Speed:</label>
                                    <input type="range" id="speechRate" min="0.5" max="2" step="0.1" value="1">
                                    <span id="speechRateValue">1.0</span>
                                </div>
                                <div class="slider-group">
                                    <label for="speechVolume">Volume:</label>
                                    <input type="range" id="speechVolume" min="0" max="1" step="0.1" value="1">
                                    <span id="speechVolumeValue">1.0</span>
                                </div>
                            </div>
                        </div>
                    </div><!-- /.admin-controls -->
                </div><!-- /.card__body -->
            </div><!-- /.card -->
        </div><!-- /#adminPanel -->
    </div><!-- /.app-container -->
    <script src="app.js"></script>
</body>
</html>
